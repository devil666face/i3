set $brightness_default gdbus call --session \
    --dest org.gnome.SettingsDaemon.Power \
    --object-path /org/gnome/SettingsDaemon/Power \
    --method org.freedesktop.DBus.Properties.Set \
    "org.gnome.SettingsDaemon.Power.Screen" "Brightness" "<int32 75>"

mode "ðŸ’ª" {
    # exit to xsession
    bindsym e exec --no-startup-id i3-msg exit; mode "default"
    # shutdown
    bindsym s exec --no-startup-id \
        xset dpms force off && \
        systemctl poweroff; mode "default"
    # sleep
    # $lock_not_wait && systemctl suspend; mode "default"
    bindsym w exec --no-startup-id \
        xset dpms force off && \
        $gnome_lock && systemctl suspend; mode "default"
    # reboot
    bindsym r exec --no-startup-id \
        xset dpms force off && \
        systemctl reboot; mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+p mode "default"

	# perfomance power
	bindsym f exec --no-startup-id \
        /usr/bin/system76-power profile performance || true && \
        /usr/bin/system76-power profile performance && \
        $brightness_default && \
        echo "ðŸ’ª" > /tmp/profile && \
        notify-send --icon=gnome-power-manager "Power" "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ"; mode "default"
	# balanced power
	bindsym b exec --no-startup-id \
        /usr/bin/system76-power profile balanced || true && \
        /usr/bin/system76-power profile balanced && \
        $brightness_default && \
        rm /tmp/profile && \
        notify-send --icon=gnome-power-manager "Power" "Ð¡Ð±Ð°Ð»Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ"; mode "default"
	# economy power
	bindsym l exec --no-startup-id \
        /usr/bin/system76-power profile battery || true && \
        /usr/bin/system76-power profile battery && \
        $brightness_default && \
        echo "ðŸŒ" > /tmp/profile && \
        notify-send --icon=gnome-power-manager "Power" "Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ"; mode "default"
}
bindsym $mod+p mode "ðŸ’ª"
